<script>
  async function launch() {
    let t = document.getElementById('target').value;
    const d = document.getElementById('duration').value;
    const m = document.getElementById('method').value;
    const s = document.getElementById('status');
    if (!t.startsWith('http')) t = 'https://' + t;  // Auto-fix to HTTPS
    s.innerText = 'Queuing HTTPS hell...';
    const res = await fetch('/api/launch', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ target: t, duration: d, method: m })
    });
    const data = await res.json();
    s.innerText = data.status;
  }
</script>